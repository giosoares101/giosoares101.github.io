<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('dark');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>Building a Python Web Scraper in Flask</title><meta name="robots" content="follow, index"/><meta name="description" content="A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup."/><meta property="og:url" content="https://giosoares1010.github.io//blog/building-a-python-web-scraper-in-flask"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Giovanni Soares"/><meta property="og:description" content="A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup."/><meta property="og:title" content="Building a Python Web Scraper in Flask"/><meta property="og:image" content="https://giosoares1010.github.io//static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Building a Python Web Scraper in Flask"/><meta name="twitter:description" content="A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup."/><meta name="twitter:image" content="https://giosoares1010.github.io//static/images/twitter-card.png"/><link rel="canonical" href="https://giosoares1010.github.io//blog/building-a-python-web-scraper-in-flask"/><meta property="article:published_time" content="2021-09-07T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://giosoares1010.github.io//blog/building-a-python-web-scraper-in-flask"
  },
  "headline": "Building a Python Web Scraper in Flask",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://giosoares1010.github.io//static/images/twitter-card.png"
    }
  ],
  "datePublished": "2021-09-07T00:00:00.000Z",
  "dateModified": "2021-09-07T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Giovanni Soares"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Giovanni Soares",
    "logo": {
      "@type": "ImageObject",
      "url": "https://giosoares1010.github.io//static/images/logo.png"
    }
  },
  "description": "A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup."
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/911b0e6eb2decf42.css" as="style"/><link rel="stylesheet" href="/_next/static/css/911b0e6eb2decf42.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5f80f3076149bc7d.js" defer=""></script><script src="/_next/static/chunks/main-7b3ba9bf4f28f1fe.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1821d4593212f6ce.js" defer=""></script><script src="/_next/static/chunks/675-70b09cbf0a5309ea.js" defer=""></script><script src="/_next/static/chunks/774-12915c1efed9eab5.js" defer=""></script><script src="/_next/static/chunks/833-344f4ccb1d4a2701.js" defer=""></script><script src="/_next/static/chunks/712-3a60af71b44f7f34.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-832cad689911973f.js" defer=""></script><script src="/_next/static/wwF2HbjoMRtoMasqAJl2E/_buildManifest.js" defer=""></script><script src="/_next/static/wwF2HbjoMRtoMasqAJl2E/_ssgManifest.js" defer=""></script><script src="/_next/static/wwF2HbjoMRtoMasqAJl2E/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-6"><div><a aria-label="Gio Soares&#x27;s website" class="hover:dark:text-primary-color-dark hover:text-primary-color p-1 font-serif font-medium text-2xl text-gray-900 dark:text-gray-100 sm:p-4" href="/">Giovanni Soares</a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="hover:dark:text-primary-color-dark hover:text-primary-color p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a><a class="hover:dark:text-primary-color-dark hover:text-primary-color p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="hover:dark:text-primary-color-dark hover:text-primary-color p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="hover:dark:text-primary-color-dark hover:text-primary-color p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-0 left-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><div class="flex justify-end"><button type="button" class="mr-5 mt-11 h-8 w-8 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div><div class="px-12 py-4"><a class="text-2xl tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2021-09-07T00:00:00.000Z">Monday, September 6, 2021</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Building a Python Web Scraper in Flask</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2738%27%20height=%2738%27/%3e"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="h-10 w-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" src="/static/images/photo.jpg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="h-10 w-10 rounded-full" loading="lazy"/></noscript></span><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Giovanni Soares</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p>Websites currently contain a wealth of valuable information, which is consumed daily by users all around the world. These statistics are a useful asset for any subject of study or special interest. When gathering this information, you will almost definitely find yourself manually copying and pasting.</p><p>That, of course, does not sit well with you.You need a simple and more automated method for this, which is where web scraping comes in.</p><p><strong>So, what exactly is web scraping?</strong> As the name implies, it is simply the automated extraction of a web page&#x27;s unstructured HTML information in a specified format, structuring it, and storing it in a database or saving it as a CSV file for future consumption.</p><p>Python libraries are at the top of the list of web scraping technologies accessible today. <a target="_blank" rel="noopener noreferrer" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">Beautiful Soup</a> is the most popular Python web scraping library.</p><p>In this tutorial, we&#x27;ll look at web scraping using Beautiful Soup and <a target="_blank" rel="noopener noreferrer" href="https://docs.python-requests.org/en/master/user/quickstart/">Requests</a>. We&#x27;ll build a web scrapper app with <a target="_blank" rel="noopener noreferrer" href="https://flask.palletsprojects.com/en/2.0.x/">Flask</a>, Python&#x27;s most lightweight web framework.</p><h3 id="how-it-works"><a href="#how-it-works" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>How it works</h3><ul><li>Load the application</li><li>Provide a target URL and a tag to be fetched example <em>img,p, title</em></li><li>Receive a response - the requested element(s) content.</li><li>For images, there will be a download functionality that will save the images to your downloads directory</li></ul><h3 id="1-project-setup"><a href="#1-project-setup" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>1. Project setup.</h3><p>For this project, I&#x27;ll concentrate on backend functionality, as well as jinja templating and looping. I won&#x27;t go into detail about CSS or the rest of the HTML code.Find the full project codes <a target="_blank" rel="noopener noreferrer" href="https://github.com/giosoares1010/python-web-scraper">here</a>.</p><p>To get this project running on your local machine follow the steps <a target="_blank" rel="noopener noreferrer" href="https://github.com/giosoares1010/python-web-scraper">here</a>.</p><blockquote><p>Don&#x27;t worry if you don&#x27;t understand what&#x27;s going on behind the scenes now that your project is up and running. Fill your coffee mug, because things are about to get interesting.</p></blockquote><h3 id="2-project-details"><a href="#2-project-details" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2. Project details.</h3><p>Our primary discussion files will be as follows:</p><ul><li>app.py</li><li>templates/index.html</li></ul><h4 id="apppy"><a href="#apppy" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>app.py</h4><p>As stated in the introduction, we will utilize Flask, Beautiful Soup, and request libraries. First and foremost, we&#x27;ll import some functionality from Flask and Beautiful Soup into the app.py file.</p><p>We need to validate and parse the URLs we get, so we import the URL handling module for Python- <a target="_blank" rel="noopener noreferrer" href="https://docs.python.org/3/library/urllib.html">urllib</a>, as well as some other built-in libraries.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">from</span> flask <span class="token keyword">import</span> <span class="token punctuation">(</span>
</span><span class="code-line">    Flask<span class="token punctuation">,</span>
</span><span class="code-line">    render_template<span class="token punctuation">,</span>
</span><span class="code-line">    request<span class="token punctuation">,</span>
</span><span class="code-line">    redirect<span class="token punctuation">,</span>
</span><span class="code-line">    flash<span class="token punctuation">,</span>
</span><span class="code-line">    url_for<span class="token punctuation">,</span>
</span><span class="code-line">    current_app
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
</span><span class="code-line"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>parse <span class="token keyword">import</span> urlparse<span class="token punctuation">,</span>urljoin
</span><span class="code-line"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
</span><span class="code-line"><span class="token keyword">import</span> requests<span class="token punctuation">,</span>validators<span class="token punctuation">,</span>json <span class="token punctuation">,</span>uuid<span class="token punctuation">,</span>pathlib<span class="token punctuation">,</span>os
</span></code></pre></div><p>A flask instance must be created as shown below.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
</span></code></pre></div><p>Next, for our first route, we&#x27;ll construct a function that returns an HTML template, as seen below.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token punctuation annotation decorator">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>methods<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strict_slashes<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token comment"># Actual parsing codes goes here</span>
</span><span class="code-line">    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">)</span>
</span></code></pre></div><p>To begin our scrap, we must ensure that the user has sent a Post request.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">:</span>
</span></code></pre></div><p>Inside our function we handle the actual parsing using Beautiful Soup</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">try</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token keyword">global</span> requested_url<span class="token punctuation">,</span>specific_element<span class="token punctuation">,</span>tag
</span><span class="code-line">
</span><span class="code-line">    requested_url <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#x27;urltext&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    tag <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#x27;specificElement&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    source <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>requested_url<span class="token punctuation">)</span><span class="token punctuation">.</span>text
</span><span class="code-line">    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    specific_element <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    counter <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>specific_element<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    image_paths <span class="token operator">=</span> image_handler<span class="token punctuation">(</span>
</span><span class="code-line">        tag<span class="token punctuation">,</span>
</span><span class="code-line">        specific_element<span class="token punctuation">,</span>
</span><span class="code-line">        requested_url
</span><span class="code-line">        <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">        url <span class="token operator">=</span> requested_url<span class="token punctuation">,</span>
</span><span class="code-line">        counter<span class="token operator">=</span>counter<span class="token punctuation">,</span>
</span><span class="code-line">        image_paths<span class="token operator">=</span>image_paths<span class="token punctuation">,</span>
</span><span class="code-line">        results <span class="token operator">=</span> specific_element
</span><span class="code-line">        <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
</span><span class="code-line">    flash<span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">&quot;danger&quot;</span><span class="token punctuation">)</span>
</span></code></pre></div><p>To explain the following scripts, since we&#x27;ll be writing a function to accept image paths and generate a complete URL from them, the form field inputs must be available globally, so we define them as global variables.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">global</span> requested_url<span class="token punctuation">,</span>specific_element<span class="token punctuation">,</span>tag
</span></code></pre></div><p>The next step is to set values to the two global variables from our form field, as seen below.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"> requested_url <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#x27;urltext&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"> tag <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#x27;specificElement&#x27;</span><span class="token punctuation">)</span>
</span></code></pre></div><p>The following lines of code; the first line sends an HTTP request to the user-specified URL - <code>requested_url</code>. The server answers the request by delivering the raw HTML content of the webpage, which we then transform to text- <code>.text()</code> and assign to the variable <code>source</code>.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">source <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>requested_url<span class="token punctuation">)</span><span class="token punctuation">.</span>text
</span></code></pre></div><p>We need to parse the page after we&#x27;ve extracted the HTML content in text format, and we&#x27;ll utilize <code>html.parser</code> as our parsing library. We&#x27;re merely generating a nested/tree structure of the HTML data by doing this.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
</span></code></pre></div><p>Because we don&#x27;t need the entire document, we navigate through the tree to discover the element we require. The tag that the user will enter in the form field.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">specific_element <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>tag<span class="token punctuation">)</span>
</span></code></pre></div><p>We also require a count of the results discovered. As a result, we create a variable -<code>counter</code> to record the count, as demonstrated.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">counter <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>specific_element<span class="token punctuation">)</span>
</span></code></pre></div><p>As we can see, the variable <code>image_paths</code> is linked to a function called -<code>image_handler()</code>, which accepts the user-supplied URL, tag, and the specific element we extracted from the parsed page. We&#x27;ll skip this function and come back to it later to see what it does.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">image_paths <span class="token operator">=</span> image_handler<span class="token punctuation">(</span>
</span><span class="code-line">    tag<span class="token punctuation">,</span>
</span><span class="code-line">    specific_element<span class="token punctuation">,</span>
</span><span class="code-line">    requested_url
</span><span class="code-line">    <span class="token punctuation">)</span>
</span></code></pre></div><p>We pass the results of our parsing along with the return statement to make them available on the HTML template.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    url <span class="token operator">=</span> requested_url<span class="token punctuation">,</span>
</span><span class="code-line">    counter<span class="token operator">=</span>counter<span class="token punctuation">,</span>
</span><span class="code-line">    image_paths<span class="token operator">=</span>image_paths<span class="token punctuation">,</span>
</span><span class="code-line">    results <span class="token operator">=</span> specific_element
</span><span class="code-line">    <span class="token punctuation">)</span>
</span></code></pre></div><p>When referencing images on websites, developers frequently use either absolute URLs or relative URLs. Absolute URLs are simple to handle, but relative routes require some processing.</p><p>Paths such as <code>/uploads/image.png</code>, for example, will be difficult to determine where they originate. So we&#x27;ll create a function similar to the one we called earlier to validate our image paths.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token keyword">def</span> <span class="token function">image_handler</span><span class="token punctuation">(</span>tag<span class="token punctuation">,</span>specific_element<span class="token punctuation">,</span>requested_url<span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">    image_paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token keyword">if</span> tag <span class="token operator">==</span> <span class="token string">&#x27;img&#x27;</span><span class="token punctuation">:</span>
</span><span class="code-line">        images <span class="token operator">=</span> <span class="token punctuation">[</span>img<span class="token punctuation">[</span><span class="token string">&#x27;src&#x27;</span><span class="token punctuation">]</span> <span class="token keyword">for</span> img <span class="token keyword">in</span> specific_element<span class="token punctuation">]</span>
</span><span class="code-line">        <span class="token keyword">for</span> i <span class="token keyword">in</span> specific_element<span class="token punctuation">:</span>
</span><span class="code-line">            image_path <span class="token operator">=</span> i<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">&#x27;src&#x27;</span><span class="token punctuation">]</span>
</span><span class="code-line">            valid_imgpath <span class="token operator">=</span> validators<span class="token punctuation">.</span>url<span class="token punctuation">(</span>image_path<span class="token punctuation">)</span>
</span><span class="code-line">            <span class="token keyword">if</span> valid_imgpath <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
</span><span class="code-line">                full_path <span class="token operator">=</span> image_path
</span><span class="code-line">            <span class="token keyword">else</span><span class="token punctuation">:</span>
</span><span class="code-line">                full_path <span class="token operator">=</span> urljoin<span class="token punctuation">(</span>requested_url<span class="token punctuation">,</span> image_path<span class="token punctuation">)</span>
</span><span class="code-line">                image_paths<span class="token punctuation">.</span>append<span class="token punctuation">(</span>full_path<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> image_paths
</span></code></pre></div><p>The function checks if the provided <code>tag</code> is an image tag, then extracts the images&#x27; src attribute value and verifies it to see if it&#x27;s an absolute path. If this is not the case, it joins the relative path to the target&#x27;s base URL.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">https<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com <span class="token operator">+</span> <span class="token operator">/</span>uploads<span class="token operator">/</span>image<span class="token punctuation">.</span>png
</span></code></pre></div><p>These picture paths are then saved in a list and returned when the function is revoked.</p><p><strong>templates/index.html</strong></p><p>What comes next? We must provide the scrap results to the user. We&#x27;ll use jinja templating and looping in this case.</p><div class="relative"><pre><code class="code-highlight language-HTML"><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>col-md-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>badge bg-success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ counter }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> Scrap Results for <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
</span></span><span class="code-line"><span class="token tag">            <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ url }}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> {{ url }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg-white shadow p-4 rounded results<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">        {% if results %}
</span><span class="code-line">        {% for result in results %}
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> {{ result | join(&#x27; &#x27;) }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">        {% endfor %}
</span><span class="code-line">        {% endif %}
</span><span class="code-line">        {% for path in image_paths %}
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> {{  path }} <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> {{ path }} <span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">        {% endfor %}
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    {% if image_paths %}
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{url_for(&#x27;downloader&#x27;)}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary m-2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>download<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Download
</span><span class="code-line">        Images<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bi bi-cloud-arrow-down-fill m-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    {% endif %}
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</span></code></pre></div><p>In the above html code fragment, we print the number of results found as well as the URL that was scraped. Take a look at the sample below.</p><p><img alt="Count and the URL" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3i1ot9se8ckyzcxzw6fu.png"/></p><figcaption>Results count and the URL</figcaption><p>We first verify if the results list is available below the count and the URL, and if it is, we iterate printing each. This is for the texts that were retrieved.</p><p>However, when you print the output, you will see <code>| join(&#x27; &#x27;)</code> It operates similarly to <code>|striptags</code> in that it removes all HTML tags from the variable result.</p><p>Consequently, instead of <img alt="A" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1wm7saf9fj9qc2o80eun.png"/> We&#x27;ll have; <img alt="B" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dp76mhzaqol01qo505dk.png"/></p><p>We use anchor tags to enclose the pictures and pass the paths as values to the <code>href</code> and <code>src</code> properties.</p><div class="relative"><pre><code class="code-highlight language-html"><span class="code-line">{% for path in image_paths %}
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> {{  path }} <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> {{ path }} <span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">{% endfor %}
</span></code></pre></div><p>In addition, we&#x27;d like to display the download option only if images are retrieved. So we use jinja if statements to accomplish this. See the code below.</p><div class="relative"><pre><code class="code-highlight language-html"><span class="code-line">{% if image_paths %}
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{url_for(&#x27;downloader&#x27;)}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-primary m-2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>download<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">    Download Images
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bi bi-cloud-arrow-down-fill m-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">{% endif %}
</span></code></pre></div><p>Last but not least,we need to download images too.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line"><span class="token punctuation annotation decorator">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">&quot;/download&quot;</span><span class="token punctuation">,</span>methods<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> strict_slashes<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">def</span> <span class="token function">downloader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">    <span class="token keyword">try</span><span class="token punctuation">:</span>
</span><span class="code-line">        <span class="token keyword">for</span> img <span class="token keyword">in</span> image_handler<span class="token punctuation">(</span>tag<span class="token punctuation">,</span>specific_element<span class="token punctuation">,</span>requested_url<span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">            image_url <span class="token operator">=</span> img
</span><span class="code-line">
</span><span class="code-line">            filename <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">            file_ext <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>image_url<span class="token punctuation">)</span><span class="token punctuation">.</span>suffix
</span><span class="code-line">
</span><span class="code-line">            picture_filename <span class="token operator">=</span> filename <span class="token operator">+</span> file_ext
</span><span class="code-line">
</span><span class="code-line">            downloads_path <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token string">&quot;Downloads&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">            picture_path  <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>downloads_path<span class="token punctuation">,</span> picture_filename
</span><span class="code-line">            <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line">        flash<span class="token punctuation">(</span><span class="token string">&quot;Images saved in your Downloads directory&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
</span><span class="code-line">        flash<span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token string">&quot;danger&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">&#x27;index&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre></div><p>The <code>uuid</code> library is used by the download function above to produce unique names for the downloaded files.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">filename <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre></div><p>then <code>pathlib.Path()</code> to strip the image extension from the image path.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">file_ext <span class="token operator">=</span> pathlib<span class="token punctuation">.</span>Path<span class="token punctuation">(</span>image_url<span class="token punctuation">)</span><span class="token punctuation">.</span>suffix
</span></code></pre></div><p>The two are combined to generate an image name that includes an extension. The image is then embedded with the downloads directory path. This will allow us to designate where we want the images saved.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">picture_path  <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>downloads_path<span class="token punctuation">,</span> picture_filename<span class="token punctuation">)</span>
</span></code></pre></div><p>The line of code following handles the actual image download.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlretrieve<span class="token punctuation">(</span>image_url<span class="token punctuation">,</span> picture_path<span class="token punctuation">)</span>
</span></code></pre></div><p>As parameters, <code>urllib.request.urlretrieve()</code> accepts the image(s) to be downloaded and the directory where it should be saved with its new name. As a result, the photos are saved in the downloads directory within the static directory.</p><p>Finally we instruct flask to run the application as a module.</p><div class="relative"><pre><code class="language-python code-highlight"><span class="code-line">    <span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
</span><span class="code-line">        app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</span></code></pre></div><p>Thank you for taking the time to read this, and please leave some feedback if you found it useful.</p><p>Like, share, and leave a comment in the section below. Follow me on Twitter for further updates and tips on Flask and React development.</p><p><img alt="Scrappy" src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4euyxoqfbkrsduf4sq3v.png"/></p></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/python">Python</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/flask">Flask</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/bs4">Bs4</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/web">Web</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/typing-usestate">How to type the setState function from the useState hook</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-10 mb-4 flex flex-col items-center justify-between md:flex-row"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/giosoares1010"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-5 w-5"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:gioarmstr11@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-5 w-5"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/giovanni-soares-818b02327"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-5 w-5"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="mb-3 flex space-x-2 text-sm text-gray-500 dark:text-gray-400">I am ready to be hired at anytime, Have a good <!-- -->Thursday<!-- -->!</div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var l=a=\u003et(a,\"__esModule\",{value:!0});var m=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of d(s))!u.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026t(a,n,{get:()=\u003es[n],enumerable:!(c=p(s,n))||c.enumerable});return a},g=a=\u003ek(l(t(a!=null?r(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=m((v,i)=\u003e{i.exports=_jsx_runtime});var b={};N(b,{default:()=\u003ey,frontmatter:()=\u003ef});var e=g(o()),f={title:\"Building a Python Web Scraper in Flask\",date:\"2021-09-07\",tags:[\"Python\",\"Flask\",\"Bs4\",\"Web\"],draft:!1,summary:\"A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup.\"};function w(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",strong:\"strong\",a:\"a\",h3:\"h3\",span:\"span\",ul:\"ul\",li:\"li\",em:\"em\",blockquote:\"blockquote\",h4:\"h4\",pre:\"pre\",code:\"code\",img:\"img\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"Websites currently contain a wealth of valuable information, which is consumed daily by users all around the world. These statistics are a useful asset for any subject of study or special interest. When gathering this information, you will almost definitely find yourself manually copying and pasting.\"}),(0,e.jsx)(n.p,{children:\"That, of course, does not sit well with you.You need a simple and more automated method for this, which is where web scraping comes in.\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"So, what exactly is web scraping?\"}),\" As the name implies, it is simply the automated extraction of a web page's unstructured HTML information in a specified format, structuring it, and storing it in a database or saving it as a CSV file for future consumption.\"]}),(0,e.jsxs)(n.p,{children:[\"Python libraries are at the top of the list of web scraping technologies accessible today. \",(0,e.jsx)(n.a,{href:\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\",children:\"Beautiful Soup\"}),\" is the most popular Python web scraping library.\"]}),(0,e.jsxs)(n.p,{children:[\"In this tutorial, we'll look at web scraping using Beautiful Soup and \",(0,e.jsx)(n.a,{href:\"https://docs.python-requests.org/en/master/user/quickstart/\",children:\"Requests\"}),\". We'll build a web scrapper app with \",(0,e.jsx)(n.a,{href:\"https://flask.palletsprojects.com/en/2.0.x/\",children:\"Flask\"}),\", Python's most lightweight web framework.\"]}),(0,e.jsxs)(n.h3,{id:\"how-it-works\",children:[(0,e.jsx)(n.a,{href:\"#how-it-works\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"How it works\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"Load the application\"}),(0,e.jsxs)(n.li,{children:[\"Provide a target URL and a tag to be fetched example \",(0,e.jsx)(n.em,{children:\"img,p, title\"})]}),(0,e.jsx)(n.li,{children:\"Receive a response - the requested element(s) content.\"}),(0,e.jsx)(n.li,{children:\"For images, there will be a download functionality that will save the images to your downloads directory\"})]}),(0,e.jsxs)(n.h3,{id:\"1-project-setup\",children:[(0,e.jsx)(n.a,{href:\"#1-project-setup\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"1. Project setup.\"]}),(0,e.jsxs)(n.p,{children:[\"For this project, I'll concentrate on backend functionality, as well as jinja templating and looping. I won't go into detail about CSS or the rest of the HTML code.Find the full project codes \",(0,e.jsx)(n.a,{href:\"https://github.com/giosoares1010/python-web-scraper\",children:\"here\"}),\".\"]}),(0,e.jsxs)(n.p,{children:[\"To get this project running on your local machine follow the steps \",(0,e.jsx)(n.a,{href:\"https://github.com/giosoares1010/python-web-scraper\",children:\"here\"}),\".\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:\"Don't worry if you don't understand what's going on behind the scenes now that your project is up and running. Fill your coffee mug, because things are about to get interesting.\"})}),(0,e.jsxs)(n.h3,{id:\"2-project-details\",children:[(0,e.jsx)(n.a,{href:\"#2-project-details\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"2. Project details.\"]}),(0,e.jsx)(n.p,{children:\"Our primary discussion files will be as follows:\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"app.py\"}),(0,e.jsx)(n.li,{children:\"templates/index.html\"})]}),(0,e.jsxs)(n.h4,{id:\"apppy\",children:[(0,e.jsx)(n.a,{href:\"#apppy\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"app.py\"]}),(0,e.jsx)(n.p,{children:\"As stated in the introduction, we will utilize Flask, Beautiful Soup, and request libraries. First and foremost, we'll import some functionality from Flask and Beautiful Soup into the app.py file.\"}),(0,e.jsxs)(n.p,{children:[\"We need to validate and parse the URLs we get, so we import the URL handling module for Python- \",(0,e.jsx)(n.a,{href:\"https://docs.python.org/3/library/urllib.html\",children:\"urllib\"}),\", as well as some other built-in libraries.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" flask \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Flask\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    render_template\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    redirect\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    flash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    url_for\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    current_app\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" urllib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`request\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" urllib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"parse \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" urlparse\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`urljoin\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" bs4 \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),` BeautifulSoup\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" requests\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"validators\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"json \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"uuid\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"pathlib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`os\n`]})]})}),(0,e.jsx)(n.p,{children:\"A flask instance must be created as shown below.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"app \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" Flask\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"__name__\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"Next, for our first route, we'll construct a function that returns an HTML template, as seen below.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token punctuation annotation decorator\",children:[\"@app\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"route\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"methods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"GET\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"POST\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" strict_slashes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"False\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"index\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# Actual parsing codes goes here\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" render_template\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"index.html\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"To begin our scrap, we must ensure that the user has sent a Post request.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"method \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"POST\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"Inside our function we handle the actual parsing using Beautiful Soup\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"try\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"global\"}),\" requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`tag\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    requested_url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"form\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'urltext'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"form\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'specificElement'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    source \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" requests\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`text\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    soup \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" BeautifulSoup\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"source\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"html.parser\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    specific_element \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" soup\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"find_all\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    counter \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    image_paths \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" image_handler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        requested_url\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" render_template\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"index.html\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        counter\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"counter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        image_paths\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"image_paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        results \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` specific_element\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"except\"}),\" Exception \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    flash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"danger\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"To explain the following scripts, since we'll be writing a function to accept image paths and generate a complete URL from them, the form field inputs must be available globally, so we define them as global variables.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"global\"}),\" requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`tag\n`]})})}),(0,e.jsx)(n.p,{children:\"The next step is to set values to the two global variables from our form field, as seen below.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" requested_url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"form\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'urltext'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" tag \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"form\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'specificElement'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"The following lines of code; the first line sends an HTTP request to the user-specified URL - \",(0,e.jsx)(n.code,{children:\"requested_url\"}),\". The server answers the request by delivering the raw HTML content of the webpage, which we then transform to text- \",(0,e.jsx)(n.code,{children:\".text()\"}),\" and assign to the variable \",(0,e.jsx)(n.code,{children:\"source\"}),\".\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"source \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" requests\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"get\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`text\n`]})})}),(0,e.jsxs)(n.p,{children:[\"We need to parse the page after we've extracted the HTML content in text format, and we'll utilize \",(0,e.jsx)(n.code,{children:\"html.parser\"}),\" as our parsing library. We're merely generating a nested/tree structure of the HTML data by doing this.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"soup \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" BeautifulSoup\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"source\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"html.parser\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"Because we don't need the entire document, we navigate through the tree to discover the element we require. The tag that the user will enter in the form field.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"specific_element \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" soup\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"find_all\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[\"We also require a count of the results discovered. As a result, we create a variable -\",(0,e.jsx)(n.code,{children:\"counter\"}),\" to record the count, as demonstrated.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"counter \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"len\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[\"As we can see, the variable \",(0,e.jsx)(n.code,{children:\"image_paths\"}),\" is linked to a function called -\",(0,e.jsx)(n.code,{children:\"image_handler()\"}),\", which accepts the user-supplied URL, tag, and the specific element we extracted from the parsed page. We'll skip this function and come back to it later to see what it does.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"image_paths \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" image_handler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    requested_url\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"We pass the results of our parsing along with the return statement to make them available on the HTML template.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" render_template\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"index.html\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    counter\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"counter\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    image_paths\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"image_paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    results \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` specific_element\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"When referencing images on websites, developers frequently use either absolute URLs or relative URLs. Absolute URLs are simple to handle, but relative routes require some processing.\"}),(0,e.jsxs)(n.p,{children:[\"Paths such as \",(0,e.jsx)(n.code,{children:\"/uploads/image.png\"}),\", for example, will be difficult to determine where they originate. So we'll create a function similar to the one we called earlier to validate our image paths.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"image_handler\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    image_paths \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" tag \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'img'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        images \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"img\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'src'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" img \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" i \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            image_path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"attrs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'src'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            valid_imgpath \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" validators\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"image_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" valid_imgpath \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"True\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                full_path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` image_path\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"else\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                full_path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" urljoin\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" image_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                image_paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"append\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"full_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` image_paths\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"The function checks if the provided \",(0,e.jsx)(n.code,{children:\"tag\"}),\" is an image tag, then extracts the images' src attribute value and verifies it to see if it's an absolute path. If this is not the case, it joins the relative path to the target's base URL.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"https\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"//\"}),\"example\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"com \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"uploads\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"image\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`png\n`]})})}),(0,e.jsx)(n.p,{children:\"These picture paths are then saved in a list and returned when the function is revoked.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"templates/index.html\"})}),(0,e.jsx)(n.p,{children:\"What comes next? We must provide the scrap results to the user. We'll use jinja templating and looping in this case.\"}),(0,e.jsx)(n.pre,{className:\"language-html\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-HTML\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"col-md-8\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"p\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"span\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"badge bg-success\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\"{{ counter }}\",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"span\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" Scrap Results for \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"a\"]}),`\n`]})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"href\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"{{ url }}\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" {{ url }}\",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"a\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"p\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"div\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"bg-white shadow p-4 rounded results\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% if results %}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% for result in results %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"p\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" {{ result | join(' ') }} \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"p\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% endfor %}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% endif %}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% for path in image_paths %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"a\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"href\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\" {{  path }} \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"img\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"src\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\" {{ path }} \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"img\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),\" \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"a\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        {% endfor %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    {% if image_paths %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"a\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"href\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"{{url_for('downloader')}}\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"btn btn-primary m-2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"download\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`Download\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        Images\",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"i\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"bi bi-cloud-arrow-down-fill m-2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"i\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"a\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    {% endif %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"div\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"In the above html code fragment, we print the number of results found as well as the URL that was scraped. Take a look at the sample below.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"Count and the URL\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3i1ot9se8ckyzcxzw6fu.png\"})}),(0,e.jsx)(\"figcaption\",{children:\"Results count and the URL\"}),(0,e.jsx)(n.p,{children:\"We first verify if the results list is available below the count and the URL, and if it is, we iterate printing each. This is for the texts that were retrieved.\"}),(0,e.jsxs)(n.p,{children:[\"However, when you print the output, you will see \",(0,e.jsx)(n.code,{children:\"| join(' ')\"}),\" It operates similarly to \",(0,e.jsx)(n.code,{children:\"|striptags\"}),\" in that it removes all HTML tags from the variable result.\"]}),(0,e.jsxs)(n.p,{children:[\"Consequently, instead of \",(0,e.jsx)(n.img,{alt:\"A\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1wm7saf9fj9qc2o80eun.png\"}),\" We'll have; \",(0,e.jsx)(n.img,{alt:\"B\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dp76mhzaqol01qo505dk.png\"})]}),(0,e.jsxs)(n.p,{children:[\"We use anchor tags to enclose the pictures and pass the paths as values to the \",(0,e.jsx)(n.code,{children:\"href\"}),\" and \",(0,e.jsx)(n.code,{children:\"src\"}),\" properties.\"]}),(0,e.jsx)(n.pre,{className:\"language-html\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-html\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`{% for path in image_paths %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"a\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"href\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\" {{  path }} \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"img\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"src\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\" {{ path }} \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"img\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"a\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`{% endfor %}\n`})]})}),(0,e.jsx)(n.p,{children:\"In addition, we'd like to display the download option only if images are retrieved. So we use jinja if statements to accomplish this. See the code below.\"}),(0,e.jsx)(n.pre,{className:\"language-html\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-html\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`{% if image_paths %}\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"a\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"href\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"{{url_for('downloader')}}\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"btn btn-primary m-2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"download\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Download Images\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"i\"]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"class\"}),(0,e.jsxs)(n.span,{className:\"token attr-value\",children:[(0,e.jsx)(n.span,{className:\"token punctuation attr-equals\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'}),\"bi bi-cloud-arrow-down-fill m-2\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:'\"'})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"i\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"a\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`{% endif %}\n`})]})}),(0,e.jsx)(n.p,{children:\"Last but not least,we need to download images too.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token punctuation annotation decorator\",children:[\"@app\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"route\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/download\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"methods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"GET\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"POST\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" strict_slashes\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"False\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"downloader\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"try\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" img \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" image_handler\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"tag\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"specific_element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\"requested_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            image_url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` img\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            filename \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"uuid\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"uuid4\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            file_ext \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" pathlib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"image_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`suffix\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            picture_filename \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" filename \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),` file_ext\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            downloads_path \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"pathlib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"home\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Downloads\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            picture_path  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" os\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"join\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"downloads_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),` picture_filename\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        flash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"Images saved in your Downloads directory\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"success\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"except\"}),\" Exception \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        flash\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"danger\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" redirect\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"url_for\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'index'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"The \",(0,e.jsx)(n.code,{children:\"uuid\"}),\" library is used by the download function above to produce unique names for the downloaded files.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"filename \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"str\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"uuid\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"uuid4\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[\"then \",(0,e.jsx)(n.code,{children:\"pathlib.Path()\"}),\" to strip the image extension from the image path.\"]}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"file_ext \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" pathlib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"image_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),`suffix\n`]})})}),(0,e.jsx)(n.p,{children:\"The two are combined to generate an image name that includes an extension. The image is then embedded with the downloads directory path. This will allow us to designate where we want the images saved.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"picture_path  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" os\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"join\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"downloads_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" picture_filename\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"The line of code following handles the actual image download.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsx)(n.code,{className:\"language-python code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"urllib\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"request\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"urlretrieve\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"image_url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" picture_path\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[\"As parameters, \",(0,e.jsx)(n.code,{children:\"urllib.request.urlretrieve()\"}),\" accepts the image(s) to be downloaded and the directory where it should be saved with its new name. As a result, the photos are saved in the downloads directory within the static directory.\"]}),(0,e.jsx)(n.p,{children:\"Finally we instruct flask to run the application as a module.\"}),(0,e.jsx)(n.pre,{className:\"language-python\",children:(0,e.jsxs)(n.code,{className:\"language-python code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" __name__ \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"__main__\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        app\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"run\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"debug\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token boolean\",children:\"True\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Thank you for taking the time to read this, and please leave some feedback if you found it useful.\"}),(0,e.jsx)(n.p,{children:\"Like, share, and leave a comment in the section below. Follow me on Twitter for further updates and tips on Flask and React development.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"Scrappy\",src:\"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4euyxoqfbkrsduf4sq3v.png\"})})]})}}var y=w;return b;})();\n;return Component;","toc":[{"value":"How it works","url":"#how-it-works","depth":3},{"value":"1. Project setup.","url":"#1-project-setup","depth":3},{"value":"2. Project details.","url":"#2-project-details","depth":3},{"value":"app.py","url":"#apppy","depth":4}],"frontMatter":{"readingTime":{"text":"11 min read","minutes":10.885,"time":653100,"words":2177},"slug":"building-a-python-web-scraper-in-flask","fileName":"building-a-python-web-scraper-in-flask.md","title":"Building a Python Web Scraper in Flask","date":"2021-09-07T00:00:00.000Z","tags":["Python","Flask","Bs4","Web"],"draft":false,"summary":"A hands-on tutorial for building a Python web scraper with the Flask framework and Beautiful Soup."}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.76,"time":45600,"words":152},"slug":["default"],"fileName":"default.md","name":"Giovanni Soares","avatar":"/static/images/photo.jpg","occupation":"Senior Web Developer \u0026 Software Engineer","company":null,"email":"gioarmstr11@gmail.com","twitter":null,"linkedin":null,"github":"https://github.com/giosoares1010","date":null}],"prev":null,"next":{"title":"How to type the setState function from the useState hook","date":"2022-04-14T00:00:00.000Z","tags":["ReactJS","TypeScript","Snippets"],"draft":false,"author":"Dale Larroder","summary":"A deep dive into how to properly type a setState function from the useState hook.","slug":"typing-usestate"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["building-a-python-web-scraper-in-flask"]},"buildId":"wwF2HbjoMRtoMasqAJl2E","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>